<!DOCTYPE html>
<html>

<head>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.velocity.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/jquery.ScrollMagic.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

    <style>
        body {
            background-color: black;
        }

        .container-fluid {
            background-color: black;
            vertical-align: middle;
            padding-left: 0px;
            padding-right: 0px;
        }

        .model {
            background-color: black;
            align-items: center;
            width: 100%;
        }

    </style>
</head>

<body>
    <div id="scene1" class="container-fluid ">
        <img id="model1" class="model" src="./test/test000.jpg">
    </div>
    <!-- <div id="scene2" class="container-fluid">
        <img id="model2" class="model" src="./b/model2000.jpg">
    </div> -->
</body>
<script>
    $(function () {
        var img_src1 = new Array();
        var img_src2 = new Array();

        function preload() {
            img_temp1 = new Image();
            // img_temp2 = new Image();

            img_temp1.src = preload.arguments[0];
            // img_temp2.src = preload.arguments[1];

            img_src1.push(img_temp1);
            // img_src2.push(img_temp2);
        }


        const img_n = 250,
            per_duration = 2500;
        var images1 = [],
            images2 = [];

        for (var i = 0; i < img_n; i++) {
            preload(`./test/test${i.toString().padStart(3,'0')}.jpg`
                // `./B/model2${i.toString().padStart(3,'0')}.jpg`
            )
        }

        for (var i = 0; i < img_n; i++) {
            images1.push(`./A/model1${i.toString().padStart(3,'0')}.jpg`);
            // images2.push(`./B/model2${i.toString().padStart(3,'0')}.jpg`);
        }

        // TweenMax can tween any property of any object. We use this object to cycle through the array
        var obj1 = {
            curImg: 0
        };
        var obj2 = {
            curImg: 0
        };

        // create tween
        var tween1 = TweenMax.to(obj1, 0.5, {
            curImg: img_n - 1, // animate propery curImg to number of images
            roundProps: "curImg", // only integers so it can be used as an array index
            repeat: 0, // repeat 3 times
            immediateRender: true, // load first image automatically
            ease: Linear.easeNone, // show every image the same ammount of time
            onUpdate: function () {
                $("#model1").attr("src", img_src1[obj1.curImg].src); // set the image source
            }
        });

        // var tween2 = TweenMax.to(obj2, 0.5, {
        //     curImg: img_n - 1, // animate propery curImg to number of images
        //     roundProps: "curImg", // only integers so it can be used as an array index
        //     repeat: 0, // repeat 3 times
        //     immediateRender: true, // load first image automatically
        //     ease: Linear.easeNone, // show every image the same ammount of time
        //     onUpdate: function () {
        //         $("#model2").attr("src", img_src2[obj2.curImg].src); // set the image source
        //     }
        // });


        // init controller
        var controller = new ScrollMagic.Controller({
            globalSceneOptions: {
                triggerHook: 0
            }
        });

        // build scene
        var scene1 = new ScrollMagic.Scene({
                triggerElement: "#scene1",
                //triggerHook: 0.25,
                duration: per_duration,
            })
            .setPin("#scene1")
            .setTween(tween1)
            // .addIndicators({
            //     name: "Model A"
            // })
            .addTo(controller);

        // var scene2 = new ScrollMagic.Scene({
        //         triggerElement: "#scene2",
        //         //triggerHook: 0.25,
        //         duration: per_duration,
        //     })
        //     .setPin("#scene2")
        //     .setTween(tween2)
        //     // .addIndicators({
        //     //     name: "Model B"
        //     // })
        //     .addTo(controller);
    });

</script>

</html>